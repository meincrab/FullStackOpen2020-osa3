(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(2),o=t(0),r=t.n(o),u=t(13),l=t.n(u),c=function(e){var n=e.person.id;return r.a.createElement("div",null,"Name: ",e.person.name,"\xa0 \xa0 \xa0Number: ",e.person.number,r.a.createElement("button",{onClick:function(){return e.removePerson({id:n})}},"Remove"))},i=function(e){var n,t=e.persons,a=e.filter,o=e.removePerson;console.log(a),n=""!==a?t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})):t;return r.a.createElement("ul",null,n.map((function(e){return r.a.createElement(c,{key:e.name,person:e,removePerson:o})})))},m=function(e){var n=e.addPerson,t=e.newName,a=e.handleNewName,o=e.newNumber,u=e.handleNewNumber;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a}),r.a.createElement("br",null),"number: ",r.a.createElement("input",{value:o,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},s=function(e){var n=e.filterValue,t=e.handleChange;return r.a.createElement("div",null,"filter :",r.a.createElement("input",{value:n,onChange:t}))},d=t(3),f=t.n(d),h="/api/persons",v=function(){return f.a.get(h)},b=function(e){return f.a.post(h,e)},p=function(e,n){return f.a.put("".concat(h,"/").concat(e),n)},E=function(e){return f.a.delete("".concat(h,"/").concat(e))},g=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"error"},n)},w=(t(36),function(){var e=Object(o.useState)([]),n=Object(a.a)(e,2),t=n[0],u=n[1],l=Object(o.useState)(""),c=Object(a.a)(l,2),d=c[0],f=c[1],h=Object(o.useState)(""),w=Object(a.a)(h,2),N=w[0],j=w[1],O=Object(o.useState)(""),C=Object(a.a)(O,2),k=C[0],P=C[1],S=Object(o.useState)(null),y=Object(a.a)(S,2),L=y[0],T=y[1];Object(o.useEffect)((function(){console.log("effect"),v().then((function(e){u(e.data)}))}),[]),console.log("render",t.length,"persons");var Y=function(e){var n=e.personObject,t=e.id;window.confirm("Person is already added to phonebook, replace the old number with a new one?")?p(t,n).then((function(e){console.log(e.data),v().then((function(e){u(e.data)}))})).catch((function(e){T("".concat(n.name," Was Already Removed from the server")),setTimeout((function(){T(null)}),5e3)}),T("You have updated ".concat(n.name," information")),setTimeout((function(){T(null)}),5e3)):window.alert("You decided to keep the old data")};return r.a.createElement("div",null,r.a.createElement(g,{message:L}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(s,{filterValue:k,handleChange:function(e){P(e.target.value)}}),r.a.createElement(m,{addPerson:function(e){e.preventDefault();var n={name:d,number:N};if(t.some((function(e){return e.name.toLowerCase()===d.toLowerCase()}))){console.log(d,t);var a=t.filter((function(e){return e.name===d}))[0].id;Y({personObject:n,id:a})}else b(n).then((function(e){u(e.data),console.log(e.data),f(""),j(""),T("You have added ".concat(n.name," to the list !")),setTimeout((function(){T(null)}),3e3)}))},newName:d,handleNewName:function(e){f(e.target.value)},newNumber:N,handleNewNumber:function(e){j(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(i,{persons:t,filter:k,removePerson:function(e){var n=e.id;console.log("Button Clickeeed"),console.log({id:n}),E(n).then((function(e){console.log(e.data),v().then((function(e){u(e.data)}))})),T("You have removed a person from the list !"),setTimeout((function(){T(null)}),5e3)}}))});l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.076d5ae9.chunk.js.map