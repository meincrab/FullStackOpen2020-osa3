(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(2),o=t(0),r=t.n(o),u=t(13),l=t.n(u),c=function(e){var n=e.person.id;return r.a.createElement("div",null,"Name: ",e.person.name,"\xa0 \xa0 \xa0Number: ",e.person.number,r.a.createElement("button",{onClick:function(){return e.removePerson({id:n})}},"Remove"))},i=function(e){var n,t=e.persons,a=e.filter,o=e.removePerson;n=""!==a?t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})):t;return r.a.createElement("ul",null,n.map((function(e){return r.a.createElement(c,{key:e.name,person:e,removePerson:o})})))},m=function(e){var n=e.addPerson,t=e.newName,a=e.handleNewName,o=e.newNumber,u=e.handleNewNumber;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a}),r.a.createElement("br",null),"number: ",r.a.createElement("input",{value:o,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},s=function(e){var n=e.filterValue,t=e.handleChange;return r.a.createElement("div",null,"filter :",r.a.createElement("input",{value:n,onChange:t}))},d=t(3),f=t.n(d),h="http://localhost:3001/api/persons",v=function(){return f.a.get(h)},p=function(e){return f.a.post(h,e)},b=function(e,n){return f.a.put("".concat(h,"/").concat(e),n)},E=function(e){return f.a.delete("".concat(h,"/").concat(e))},w=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"error"},n)},g=(t(36),function(){var e=Object(o.useState)([]),n=Object(a.a)(e,2),t=n[0],u=n[1],l=Object(o.useState)(""),c=Object(a.a)(l,2),d=c[0],f=c[1],h=Object(o.useState)(""),g=Object(a.a)(h,2),N=g[0],j=g[1],O=Object(o.useState)(""),C=Object(a.a)(O,2),P=C[0],k=C[1],S=Object(o.useState)(null),y=Object(a.a)(S,2),L=y[0],T=y[1];Object(o.useEffect)((function(){console.log("effect"),v().then((function(e){u(e.data)}))}),[]),console.log("render",t.length,"persons");var Y=function(e){var n=e.id,t=e.personObject;window.confirm("Person is already added to phonebook, replace the old number with a new one?")?b(n,t).then((function(e){console.log(e.data),v().then((function(e){u(e.data)}))})).catch((function(e){T("".concat(t.name," Was Already Removed from the server")),setTimeout((function(){T(null)}),5e3)}),T("You have updated ".concat(t.name," information")),setTimeout((function(){T(null)}),5e3)):window.alert("You decided to keep the old data")};return r.a.createElement("div",null,r.a.createElement(w,{message:L}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(s,{filterValue:P,handleChange:function(e){k(e.target.value)}}),r.a.createElement(m,{addPerson:function(e){e.preventDefault();var n={name:d,number:N};if(t.some((function(e){return e.name.toLowerCase()===d.toLowerCase()}))){var a=t.filter((function(e){return e.name===d}))[0].id;Y({personObject:n,id:a})}else p(n).then((function(e){v().then((function(e){u(e.data)})),f(""),j(""),T("You have added ".concat(n.name," to the list !")),setTimeout((function(){T(null)}),3e3)}))},newName:d,handleNewName:function(e){f(e.target.value)},newNumber:N,handleNewNumber:function(e){j(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(i,{persons:t,filter:P,removePerson:function(e){var n=e.id;E(n).then((function(e){console.log(e.data),v().then((function(e){u(e.data)}))})),T("You have removed a person from the list !"),setTimeout((function(){T(null)}),5e3)}}))});l.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.e7de133a.chunk.js.map